<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TiddeliHome</title>
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/icons/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#2A2A2A">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TiddeliHome">
</head>
<body class="phone-ui-container">
    <!-- Version display at top of screen -->
    <div id="app-version" class="fixed top-4 left-1/2 -translate-x-1/2 text-xs text-white/40 font-normal z-10 pointer-events-none">v0.0.0</div>
    
    <!-- Update prompt overlay -->
    <div id="update-prompt" class="fixed inset-0 bg-black/50 z-[2000] opacity-0 invisible transition-opacity duration-300 flex items-center justify-center">
      <div class="bg-white rounded-lg p-6 max-w-md mx-4 shadow-xl">
        <h3 class="text-lg font-semibold text-gray-900 mb-2">New Version Available</h3>
        <p class="text-sm text-gray-600 mb-4" id="update-message">A new version of TiddeliHome is available. Would you like to update now?</p>
        <div class="flex gap-3 justify-end">
          <button id="update-later-btn" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded hover:bg-gray-200 transition-colors">
            Later
          </button>
          <button id="update-now-btn" class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700 transition-colors">
            Update Now
          </button>
        </div>
      </div>
    </div>
    
    <!-- Overlay for settings panel -->
    <div class="settings-overlay fixed top-0 left-0 right-0 bottom-0 bg-black/50 z-[999] opacity-0 invisible" id="settings-overlay"></div>
    
    <!-- Settings Panel -->
    <div class="settings-panel fixed top-0 w-full max-w-[400px] h-screen bg-white shadow-[-4px_0_20px_rgba(0,0,0,0.2),-2px_0_10px_rgba(0,0,0,0.14)] z-[1000] flex flex-col overflow-hidden" id="settings-panel">
        <div class="flex justify-between items-center p-4 border-b border-gray-300 bg-white">
            <h2 class="text-gray-900 text-xl font-medium">Settings</h2>
            <div class="flex items-center gap-2">
                <button class="settings-header-btn" id="download-config-btn" aria-label="Download configuration" title="Download configuration">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 fill-current">
                        <path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/>
                    </svg>
                </button>
                <button class="settings-header-btn" id="upload-config-btn" aria-label="Upload configuration" title="Upload configuration">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 fill-current">
                        <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                    </svg>
                </button>
                <button class="settings-close-btn" id="settings-close-btn" aria-label="Close settings">‚úï</button>
            </div>
        </div>
        
        <div class="flex border-b border-gray-300 bg-white">
            <button class="settings-tab" data-tab="gemini">Gemini</button>
            <button class="settings-tab" data-tab="homeassistant">Home Assistant</button>
            <button class="settings-tab" data-tab="docs">Docs</button>
            <button class="settings-tab" data-tab="debug">Debug</button>
        </div>
        
        <!-- Gemini Tab Content -->
        <div class="settings-tab-content active" id="gemini-tab">
            <div class="mb-6">
                <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="gemini-api-key">
                    API Key <span class="text-red-500">*</span>:
                </label>
                <input 
                    type="password"
                    id="gemini-api-key" 
                    class="settings-input w-full p-3 border border-gray-300 rounded bg-white text-gray-900 text-sm box-border transition-colors duration-200 focus:outline-none focus:border-blue-500" 
                    placeholder="Enter your Gemini API key"
                />
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Required. Get your API key from <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-blue-500 hover:underline">Google AI Studio</a>
                </p>
            </div>

            <div class="mb-6">
                <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="gemini-model">
                    Model:
                </label>
                <input 
                    type="text"
                    id="gemini-model" 
                    class="settings-input w-full p-3 border border-gray-300 rounded bg-white text-gray-900 text-sm box-border transition-colors duration-200 focus:outline-none focus:border-blue-500" 
                    placeholder="gemini-2.5-flash-native-audio-preview-09-2025"
                />
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Gemini model name for audio interactions
                </p>
            </div>

            <div class="mb-6">
                <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="gemini-voice-name">
                    Voice Name:
                </label>
                <input 
                    type="text"
                    id="gemini-voice-name" 
                    class="settings-input w-full p-3 border border-gray-300 rounded bg-white text-gray-900 text-sm box-border transition-colors duration-200 focus:outline-none focus:border-blue-500" 
                    placeholder="e.g., Aoede, Charon, Fenrir"
                />
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Voice name for the AI (optional, leave empty for default)
                </p>
            </div>

            <div class="mb-6">
                <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="gemini-language-code">
                    Language Code:
                </label>
                <input 
                    type="text"
                    id="gemini-language-code" 
                    class="settings-input w-full p-3 border border-gray-300 rounded bg-white text-gray-900 text-sm box-border transition-colors duration-200 focus:outline-none focus:border-blue-500" 
                    placeholder="e.g., sv-SE, en-US"
                />
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Language code for AI responses (optional, leave empty for default)
                </p>
            </div>

            <div class="mb-6">
                <label class="flex items-center text-gray-900 text-sm mb-2 cursor-pointer">
                    <input type="checkbox" id="gemini-enable-grounding" class="mr-2 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
                    Enable Grounding
                </label>
                <p class="text-xs text-gray-600 mt-1 text-left leading-relaxed ml-6">
                    Enable Google Grounding for fact-checked responses
                </p>
            </div>

            <div class="mb-6">
                <label class="flex items-center text-gray-900 text-sm mb-2 cursor-pointer">
                    <input type="checkbox" id="gemini-enable-affective-dialog" class="mr-2 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
                    Enable Affective Dialog
                </label>
                <p class="text-xs text-gray-600 mt-1 text-left leading-relaxed ml-6">
                    Enable emotional tone adaptation in responses
                </p>
            </div>

            <div class="mb-6">
                <label class="flex items-center text-gray-900 text-sm mb-2 cursor-pointer">
                    <input type="checkbox" id="gemini-proactive-audio" class="mr-2 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
                    Proactive Audio
                </label>
                <p class="text-xs text-gray-600 mt-1 text-left leading-relaxed ml-6">
                    Allow AI to initiate audio without user prompt
                </p>
            </div>

            <div class="mb-6 border-t border-gray-300 pt-4">
                <h3 class="text-gray-900 text-base font-medium mb-3">Thinking Configuration</h3>
                <div class="mb-4">
                    <label class="flex items-center text-gray-900 text-sm mb-2 cursor-pointer">
                        <input type="checkbox" id="gemini-thinking-enabled" class="mr-2 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
                        Enable Thinking
                    </label>
                    <p class="text-xs text-gray-600 mt-1 text-left leading-relaxed ml-6">
                        Show AI reasoning process
                    </p>
                </div>
                <div class="mb-4 ml-6">
                    <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="gemini-thinking-budget">
                        Thinking Budget:
                    </label>
                    <input 
                        type="number"
                        id="gemini-thinking-budget" 
                        class="settings-input w-full p-3 border border-gray-300 rounded bg-white text-gray-900 text-sm box-border transition-colors duration-200 focus:outline-none focus:border-blue-500" 
                        placeholder="Leave empty for dynamic thinking"
                    />
                    <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                        Maximum tokens for thinking (optional, leave empty for Google's dynamic thinking)
                    </p>
                </div>
            </div>

            <div class="mb-6 border-t border-gray-300 pt-4">
                <h3 class="text-gray-900 text-base font-medium mb-3">Initial Greeting</h3>
                <div class="mb-4">
                    <label class="flex items-center text-gray-900 text-sm mb-2 cursor-pointer">
                        <input type="checkbox" id="gemini-initial-greeting-enabled" class="mr-2 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
                        Enable Initial Greeting
                    </label>
                </div>
                <div class="mb-4 ml-6">
                    <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="gemini-initial-greeting-message">
                        Greeting Message:
                    </label>
                    <textarea 
                        id="gemini-initial-greeting-message" 
                        class="settings-textarea w-full min-h-[100px]" 
                        placeholder="Enter initial greeting message..."
                    ></textarea>
                    <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                        Message to play when connection is established
                    </p>
                </div>
            </div>

            <div class="mb-6 border-t border-gray-300 pt-4">
                <h3 class="text-gray-900 text-base font-medium mb-3">Voice Activity Detection (VAD)</h3>
                <p class="text-xs text-gray-600 mb-4 text-left leading-relaxed">
                    Controls how the system detects when you start and stop speaking
                </p>
                
                <div class="mb-4">
                    <label class="flex items-center text-gray-900 text-sm mb-2 cursor-pointer">
                        <input type="checkbox" id="gemini-vad-disabled" class="mr-2 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
                        Disable Automatic VAD
                    </label>
                    <p class="text-xs text-gray-600 mt-1 text-left leading-relaxed ml-6">
                        When disabled, manual control is required for speech detection
                    </p>
                </div>

                <div class="mb-4 ml-6">
                    <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="gemini-vad-start-sensitivity">
                        Start of Speech Sensitivity:
                    </label>
                    <select id="gemini-vad-start-sensitivity" class="settings-input w-full">
                        <option value="START_SENSITIVITY_LOW">Low - Requires clear, sustained speech (better for noisy environments)</option>
                        <option value="START_SENSITIVITY_MEDIUM" selected>Medium - Balanced detection (default)</option>
                        <option value="START_SENSITIVITY_HIGH">High - Detects even slight sounds (better for quiet environments)</option>
                    </select>
                </div>

                <div class="mb-4 ml-6">
                    <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="gemini-vad-end-sensitivity">
                        End of Speech Sensitivity:
                    </label>
                    <select id="gemini-vad-end-sensitivity" class="settings-input w-full">
                        <option value="END_SENSITIVITY_LOW">Low - Requires longer silence to end speech</option>
                        <option value="END_SENSITIVITY_MEDIUM" selected>Medium - Balanced detection (default)</option>
                        <option value="END_SENSITIVITY_HIGH">High - Detects end with minimal silence (faster, may cut off speech)</option>
                    </select>
                </div>

                <div class="mb-4 ml-6">
                    <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="gemini-vad-prefix-padding">
                        Prefix Padding (ms):
                    </label>
                    <input 
                        type="number"
                        id="gemini-vad-prefix-padding" 
                        class="settings-input w-full" 
                        placeholder="20"
                        min="0"
                        max="1000"
                    />
                    <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                        Audio to include before detected speech starts (prevents truncation). Default: 20ms
                    </p>
                </div>

                <div class="mb-4 ml-6">
                    <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="gemini-vad-silence-duration">
                        Silence Duration (ms):
                    </label>
                    <input 
                        type="number"
                        id="gemini-vad-silence-duration" 
                        class="settings-input w-full" 
                        placeholder="100"
                        min="0"
                        max="5000"
                    />
                    <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                        Duration of silence required to consider speech ended. Default: 100ms
                    </p>
                </div>
            </div>

            <div class="mb-6 border-t border-gray-300 pt-4">
                <div class="flex justify-between items-center mb-3">
                    <label class="block text-gray-900 text-sm text-left font-medium" for="gemini-system-instruction">
                        General System Instruction:
                    </label>
                    <button id="reset-gemini-instruction-btn" class="btn-primary btn-blue py-1 px-3 text-xs">
                        Reset to Default
                    </button>
                </div>
                <textarea 
                    id="gemini-system-instruction" 
                    class="settings-textarea w-full min-h-[300px]" 
                    placeholder="General system instructions will appear here..."
                ></textarea>
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Customize the base system instructions (general behavior, audio responses, capabilities). Leave empty to use the default template.
                </p>
            </div>

            <div class="mb-6">
                <button id="save-gemini-config-btn" class="btn-primary btn-blue w-full">
                    üíæ Save Gemini Configuration
                </button>
                <div id="gemini-config-status" class="text-sm text-gray-600 mt-2 min-h-[1.2rem]"></div>
            </div>
        </div>
        
        <!-- Home Assistant Tab Content -->
        <div class="settings-tab-content" id="homeassistant-tab">
            <div class="mb-6">
                <label class="flex items-center text-gray-900 text-sm mb-4 cursor-pointer">
                    <input type="checkbox" id="ha-enabled" class="mr-2 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
                    Enable Home Assistant Feature
                </label>
                <p class="text-xs text-gray-600 mb-4 text-left leading-relaxed ml-6">
                    When enabled, the AI can control Home Assistant devices and access entity information.
                </p>
            </div>

            <div class="mb-6 border-t border-gray-300 pt-4">
                <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="ha-base-url">
                    Home Assistant Base URL:
                </label>
                <input 
                    type="text"
                    id="ha-base-url" 
                    class="settings-input w-full" 
                    placeholder="http://homeassistant.local:8123"
                />
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    The base URL of your Home Assistant instance (e.g., http://homeassistant.local:8123 or https://ha.example.com)
                </p>
            </div>

            <div class="mb-6">
                <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="ha-access-token">
                    Home Assistant Access Token:
                </label>
                <div class="relative">
                    <input 
                        type="password"
                        id="ha-access-token" 
                        class="settings-input w-full pr-10" 
                        placeholder="Enter your long-lived access token"
                    />
                    <button 
                        type="button"
                        id="ha-access-token-toggle" 
                        class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-900 text-sm"
                        title="Show/Hide token"
                    >
                        üëÅÔ∏è
                    </button>
                </div>
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Long-lived access token from Home Assistant. Create one in your profile settings.
                </p>
            </div>

            <div class="mb-6">
                <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="ha-timeout">
                    REST API Timeout (ms):
                </label>
                <input 
                    type="number"
                    id="ha-timeout" 
                    class="settings-input w-full" 
                    placeholder="30000"
                    min="1000"
                    max="300000"
                />
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Timeout for REST API calls to Home Assistant. Default: 30000ms (30 seconds)
                </p>
            </div>

            <div class="mb-6">
                <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="ha-websocket-timeout">
                    WebSocket Connection Timeout (ms):
                </label>
                <input 
                    type="number"
                    id="ha-websocket-timeout" 
                    class="settings-input w-full" 
                    placeholder="5000"
                    min="1000"
                    max="60000"
                />
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Timeout for WebSocket connection to Home Assistant. Default: 5000ms (5 seconds)
                </p>
            </div>

            <div class="mb-6">
                <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="ha-domains">
                    Allowed Domains (comma-separated):
                </label>
                <input 
                    type="text"
                    id="ha-domains" 
                    class="settings-input w-full" 
                    placeholder="light, scene, script"
                />
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Domains that the AI can control (e.g., light, scene, script, switch, sensor, climate, cover). Separate multiple domains with commas.
                </p>
            </div>

            <div class="mb-6 border-t border-gray-300 pt-4">
                <button class="btn-primary btn-green mb-4 w-full" id="extract-ha-config-btn">
                    üîÑ Extract HA Config from Home Assistant
                </button>
                <div id="extract-status" class="text-sm text-gray-600 mt-2 min-h-[1.2rem]"></div>
            </div>
            
            <div class="mb-6 js-hidden" id="ha-config-summary-section">
                <label class="block text-gray-900 text-sm mb-2 text-left font-medium">Extracted Configuration Summary:</label>
                <div id="ha-config-summary" class="ha-config-summary"></div>
            </div>

            <div class="mb-6 border-t border-gray-300 pt-4">
                <label class="block text-gray-900 text-sm mb-2 text-left font-medium" for="ha-config-input">
                    Home Assistant Config (JSON):
                </label>
                <textarea 
                    id="ha-config-input" 
                    class="settings-textarea" 
                    placeholder='Use "Extract HA Config" button above to populate this field'
                    readonly
                ></textarea>
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Read-only. This config is automatically populated when you extract configuration from Home Assistant. It will be passed to the AI when connecting.
                </p>
            </div>

            <div class="mb-6 border-t border-gray-300 pt-4">
                <div class="flex justify-between items-center mb-3">
                    <label class="block text-gray-900 text-sm text-left font-medium" for="ha-system-instruction">
                        Home Assistant System Instruction:
                    </label>
                    <button id="reset-ha-instruction-btn" class="btn-primary btn-blue py-1 px-3 text-xs">
                        Reset to Default
                    </button>
                </div>
                <textarea 
                    id="ha-system-instruction" 
                    class="settings-textarea w-full min-h-[300px]" 
                    placeholder="Home Assistant specific system instructions will appear here..."
                ></textarea>
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Customize how the AI interacts with Home Assistant. Leave empty to use the default template.
                </p>
                <div class="mt-4">
                    <button id="save-ha-config-btn" class="btn-primary btn-blue w-full">
                        üíæ Save HA Configuration
                    </button>
                    <div id="ha-config-status" class="text-sm text-gray-600 mt-2 min-h-[1.2rem]"></div>
                </div>
            </div>
        </div>
        
        <!-- Docs Tab Content -->
        <div class="settings-tab-content" id="docs-tab">
            <div class="mb-6">
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    Document and reference source configuration will be available here.
                </p>
            </div>
        </div>
        
        <!-- Debug Tab Content -->
        <div class="settings-tab-content" id="debug-tab">
            <div class="mb-6">
                <div class="flex justify-between items-center mb-3">
                    <label class="block text-gray-900 text-sm text-left font-medium" for="ai-function-calls">
                        AI Function Calls (JSON):
                    </label>
                    <button id="copy-log-btn" class="btn-primary btn-blue py-2 px-4">
                        üìã Copy
                    </button>
                </div>
                <textarea 
                    id="ai-function-calls" 
                    class="settings-textarea" 
                    placeholder='AI function calls will appear here when the AI tries to control Home Assistant...'
                    readonly
                ></textarea>
                <p class="text-xs text-gray-600 mt-2 text-left leading-relaxed">
                    This shows the function calls that the AI generates. These will be sent to Home Assistant REST API.
                </p>
            </div>
        </div>
    </div>
    
    <div class="text-center text-white w-full max-w-[600px] relative">
        <button class="install-icon-btn js-hidden" id="install-icon" aria-label="Install app" title="Install App">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 fill-current">
                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
            </svg>
            <span class="install-text">Install App</span>
        </button>
        <button class="settings-icon-btn" id="settings-icon" aria-label="Open settings">‚öôÔ∏è</button>
        <h1 class="text-4xl mb-8 font-normal text-white tracking-tight md:text-3xl">TiddeliHome</h1>
            <button id="mic-button" class="mic-button" aria-label="Phone call"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 fill-black md:w-9 md:h-9"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg></button>
            <p id="status-text" class="text-sm mt-2 text-white/70 font-normal md:text-xs">Ready - Click to start call</p>
            <button id="mute-button" class="mute-button min-w-12 h-12 w-12 rounded-full border-none bg-white/10 text-white cursor-pointer shadow-[0_2px_4px_rgba(0,0,0,0.3)] transition-all duration-200 items-center justify-center m-2 mx-auto mt-2 p-0 relative hover:bg-white/20 active:bg-white/15 md:w-11 md:h-11 md:min-w-11" aria-label="Mute microphone">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="mute-icon-svg w-8 h-8 fill-white md:w-7 md:h-7">
                <!-- Microphone icon -->
                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
            </svg>
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="mute-slash-svg w-8 h-8 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 md:w-7 md:h-7">
                <!-- Slash line for mute -->
                <line x1="1" y1="23" x2="23" y2="1" stroke="#FFFFFF" stroke-width="2.5" stroke-linecap="round"/>
            </svg>
        </button>
        <div class="volume-control-container mt-2 mb-2 flex items-center justify-center gap-3">
            <button id="volume-mute-button" class="volume-mute-button bg-transparent border-none cursor-pointer p-0 m-0 flex items-center justify-center" aria-label="Toggle mute">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="volume-icon w-6 h-6 fill-white/70 md:w-5 md:h-5">
                    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                </svg>
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="volume-muted-icon w-6 h-6 fill-white/70 md:w-5 md:h-5">
                    <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
                </svg>
            </button>
            <input type="range" id="volume-slider" min="0" max="100" value="80" step="1" 
                class="volume-slider w-32 h-2 bg-white/20 rounded-lg appearance-none cursor-pointer md:w-24" 
                aria-label="Volume control" />
        </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
</body>
</html>
